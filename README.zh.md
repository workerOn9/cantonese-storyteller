# ç²¤è¯­è¯„ä¹¦ - Cantonese Storyteller

ä¸€ä¸ªè·¨å¹³å°åº”ç”¨ç¨‹åºï¼Œç”¨äºåˆ›å»ºä¸ªæ€§åŒ–ç²¤è¯­æœ‰å£°è¯»ç‰©ï¼Œä½¿ç”¨AIè¯­éŸ³åˆæˆæŠ€æœ¯ã€‚å½•åˆ¶æ‚¨çš„å£°éŸ³æ¥è®­ç»ƒè‡ªå®šä¹‰å£°éŸ³æ¨¡å‹ï¼Œç„¶åç”¨æ‚¨è‡ªå·±çš„å£°éŸ³ç”Ÿæˆæœ‰å£°è¯»ç‰©ã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

- **è¯­éŸ³å½•åˆ¶**: å½•åˆ¶30ç§’ç²¤è¯­è¯­éŸ³æ ·æœ¬
- **AIå£°éŸ³è®­ç»ƒ**: ä½¿ç”¨TTSæœåŠ¡è®­ç»ƒè‡ªå®šä¹‰å£°éŸ³æ¨¡å‹
- **ç« èŠ‚ç®¡ç†**: ä¸Šä¼ å’Œç®¡ç†ä¹¦ç±ç« èŠ‚
- **è¯­éŸ³åˆæˆ**: ç”¨æ‚¨çš„ä¸ªæ€§åŒ–å£°éŸ³ç”Ÿæˆæœ‰å£°è¯»ç‰©
- **å®æ—¶è¿›åº¦**: åŸºäºWebSocketçš„è¿›åº¦æ›´æ–°
- **ç¦»çº¿æ”¯æŒ**: ä½¿ç”¨SQLiteè¿›è¡Œæœ¬åœ°ç¼“å­˜
- **è·¨å¹³å°**: é€šè¿‡Tauriæ”¯æŒWindowsã€macOSã€Linux

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯ (Tauri + React)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Ruståç«¯ (éŸ³é¢‘å¤„ç† + æœ¬åœ°ç¼“å­˜)                         â”‚ â”‚
â”‚  â”‚  - éŸ³é¢‘å½•åˆ¶/æ’­æ”¾                                       â”‚ â”‚
â”‚  â”‚  - æ–‡ä»¶ç³»ç»Ÿç®¡ç†                                        â”‚ â”‚
â”‚  â”‚  - SQLiteæœ¬åœ°ç¼“å­˜                                      â”‚ â”‚
â”‚  â”‚  - Tauri IPCå‘½ä»¤                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP/WebSocket
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Java Spring Bootåç«¯                           â”‚
â”‚  - ç”¨æˆ·/å£°éŸ³æ¨¡å‹ç®¡ç†                                       â”‚
â”‚  - åˆæˆä»»åŠ¡è°ƒåº¦                                            â”‚
â”‚  - PostgreSQLæ•°æ®å­˜å‚¨                                      â”‚
â”‚  - WebSocketè¿›åº¦æ›´æ–°                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP API
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TTSæœåŠ¡å±‚                                â”‚
â”‚  - å£°éŸ³æ¨¡å‹è®­ç»ƒ                                            â”‚
â”‚  - è¯­éŸ³åˆæˆ                                                â”‚
â”‚  - éŸ³é¢‘åå¤„ç†                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js** (v18æˆ–æ›´é«˜ç‰ˆæœ¬)
- **Rust** (æœ€æ–°ç¨³å®šç‰ˆ)
- **Java** (JDK 17æˆ–æ›´é«˜ç‰ˆæœ¬)
- **PostgreSQL** (v12æˆ–æ›´é«˜ç‰ˆæœ¬)

### 1. å…‹éš†å’Œè®¾ç½®

```bash
git clone <repository-url>
cd cantonese-storyteller
```

### 2. å‰ç«¯è®¾ç½®

```bash
# å®‰è£…ä¾èµ–
npm install

# è¿è¡Œå¼€å‘æœåŠ¡å™¨
npm run tauri:dev
```

### 3. Javaåç«¯è®¾ç½®

```bash
cd backend-java

# æ„å»ºé¡¹ç›®
./gradlew build

# è¿è¡ŒSpring Bootåº”ç”¨ç¨‹åº
./gradlew bootRun
```

### 4. æ•°æ®åº“è®¾ç½®

```bash
# åˆ›å»ºPostgreSQLæ•°æ®åº“
createdb storyteller

# åœ¨application.ymlä¸­æ›´æ–°æ•°æ®åº“å‡­æ®
# åº”ç”¨ç¨‹åºå°†åœ¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºè¡¨
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
cantonese-storyteller/
â”œâ”€â”€ src/                          # Reactå‰ç«¯
â”‚   â”œâ”€â”€ App.tsx                   # ä¸»åº”ç”¨ç¨‹åº
â”‚   â”œâ”€â”€ pages/                    # é¡µé¢ç»„ä»¶
â”‚   â””â”€â”€ services/                 # APIæœåŠ¡å±‚
â”œâ”€â”€ src-tauri/                    # Ruståç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ commands/             # Tauriå‘½ä»¤å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ db/                   # æ•°æ®åº“å±‚
â”‚   â””â”€â”€ migrations/               # SQLiteè¿ç§»
â”œâ”€â”€ backend-java/                 # Java Spring Boot
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â”‚   â”œâ”€â”€ controller/           # REST APIæ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ service/              # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ entity/               # JPAå®ä½“
â”‚   â”‚   â””â”€â”€ repository/           # æ•°æ®ä»“åº“
â”‚   â””â”€â”€ src/main/resources/       # é…ç½®æ–‡ä»¶
â””â”€â”€ README.md
```

## ğŸ”§ å¼€å‘

### å‰ç«¯å¼€å‘

```bash
# ä½¿ç”¨çƒ­é‡è½½è¿è¡Œ
npm run tauri:dev

# ç”Ÿäº§æ„å»º
npm run tauri:build
```

### åç«¯å¼€å‘

```bash
# ä½¿ç”¨Spring Boot DevToolsè¿è¡Œï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
cd backend-java
./gradlew bootRun

# è¿è¡Œæµ‹è¯•
./gradlew test
```

### æ•°æ®åº“è¿ç§»

```bash
# SQLite (Tauriæœ¬åœ°å­˜å‚¨)
cd src-tauri
sqlx migrate run

# PostgreSQL (Javaåç«¯)
# è¿ç§»åœ¨å¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡Œ
```

## ğŸ¤ ä½¿ç”¨æŒ‡å—

### 1. å½•åˆ¶æ‚¨çš„å£°éŸ³

1. å¯åŠ¨åº”ç”¨ç¨‹åº
2. ç‚¹å‡»"å¼€å§‹å½•åˆ¶" (Start Recording)
3. æœ—è¯»æä¾›çš„ç²¤è¯­æ–‡æœ¬30ç§’
4. ç‚¹å‡»"åœæ­¢å½•åˆ¶" (Stop Recording)
5. ç‚¹å‡»"è®­ç»ƒå£°éŸ³æ¨¡å‹" (Train Voice Model)

### 2. ç”Ÿæˆæœ‰å£°è¯»ç‰©

1. ä¸Šä¼ æˆ–é€‰æ‹©ç« èŠ‚æ–‡æœ¬
2. é€‰æ‹©æ‚¨è®­ç»ƒçš„å£°éŸ³æ¨¡å‹
3. æäº¤åˆæˆè¯·æ±‚
4. å®æ—¶ç›‘æ§è¿›åº¦
5. ä¸‹è½½å®Œæˆçš„éŸ³é¢‘æ–‡ä»¶

## ğŸ”Œ APIç«¯ç‚¹

### å£°éŸ³ç®¡ç†
- `POST /api/voice/train` - è®­ç»ƒå£°éŸ³æ¨¡å‹
- `GET /api/voice/models/{userId}` - è·å–ç”¨æˆ·å£°éŸ³æ¨¡å‹

### åˆæˆ
- `POST /api/synthesis/request` - åˆ›å»ºåˆæˆä»»åŠ¡
- `GET /api/synthesis/task/{taskId}` - è·å–ä»»åŠ¡çŠ¶æ€

### WebSocket
- `ws://localhost:8080/api/ws/progress` - å®æ—¶è¿›åº¦æ›´æ–°

## ğŸ§ª æµ‹è¯•

### å‰ç«¯æµ‹è¯•
```bash
npm test
```

### åç«¯æµ‹è¯•
```bash
cd backend-java
./gradlew test
```

## ğŸš€ éƒ¨ç½²

### æ¡Œé¢åº”ç”¨ç¨‹åº
```bash
# ä¸ºå½“å‰å¹³å°æ„å»º
npm run tauri:build

# ä¸ºç‰¹å®šå¹³å°æ„å»º
npm run tauri:build -- --target universal-apple-darwin
npm run tauri:build -- --target x86_64-pc-windows-msvc
npm run tauri:build -- --target x86_64-unknown-linux-gnu
```

### Javaåç«¯
```bash
# åˆ›å»ºå¯æ‰§è¡ŒJAR
cd backend-java
./gradlew bootJar

# ä½¿ç”¨Javaè¿è¡Œ
java -jar build/libs/storyteller-0.1.0.jar
```

## ğŸ”§ é…ç½®

### Taurié…ç½®
ç¼–è¾‘ `src-tauri/tauri.conf.json` ç”¨äºï¼š
- çª—å£è®¾ç½®
- å®‰å…¨æƒé™
- æ‰“åŒ…é…ç½®
- æ’ä»¶è®¾ç½®

### Spring Booté…ç½®
ç¼–è¾‘ `backend-java/src/main/resources/application.yml` ç”¨äºï¼š
- æ•°æ®åº“è¿æ¥
- æœåŠ¡å™¨ç«¯å£
- æ–‡ä»¶ä¸Šä¼ é™åˆ¶
- æ—¥å¿—çº§åˆ«

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** - UIæ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Tauri 2.0** - è·¨å¹³å°åº”ç”¨æ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·

### Ruståç«¯
- **Tauriå‘½ä»¤** - IPCé€šä¿¡
- **Tokio** - å¼‚æ­¥è¿è¡Œæ—¶
- **SQLx** - æ•°æ®åº“å·¥å…·åŒ…
- **Rodio** - éŸ³é¢‘å¤„ç†
- **Hound** - WAVæ–‡ä»¶å¤„ç†

### Javaåç«¯
- **Spring Boot 3** - åº”ç”¨æ¡†æ¶
- **Spring WebSocket** - å®æ—¶é€šä¿¡
- **Spring Data JPA** - æ•°æ®åº“è®¿é—®
- **PostgreSQL** - ä¸»æ•°æ®åº“

## ğŸ“‹ è·¯çº¿å›¾

### MVP (å½“å‰)
- âœ… è¯­éŸ³å½•åˆ¶ (30ç§’)
- âœ… åŸºæœ¬å£°éŸ³è®­ç»ƒæ¨¡æ‹Ÿ
- âœ… å•ç« èŠ‚åˆæˆ
- âœ… å®æ—¶è¿›åº¦æ›´æ–°

### BetaåŠŸèƒ½
- [ ] å®Œæ•´ä¹¦ç±åˆæˆ
- [ ] ç¦»çº¿æ¨¡å¼ä¸SQLiteç¼“å­˜
- [ ] å¸¦æ§åˆ¶åŠŸèƒ½çš„éŸ³é¢‘æ’­æ”¾å™¨
- [ ] ç« èŠ‚ç®¡ç†UI
- [ ] ç”Ÿäº§TTSæœåŠ¡é›†æˆ

### ç”Ÿäº§åŠŸèƒ½
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] é«˜çº§éŸ³é¢‘å¤„ç†
- [ ] ç¤¾åŒºåˆ†äº«
- [ ] ç§»åŠ¨åº”ç”¨æ”¯æŒ
- [ ] äº‘éƒ¨ç½²

## ğŸ¤ è´¡çŒ®

1. Forkä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. è¿›è¡Œæ›´æ”¹
4. æ·»åŠ æµ‹è¯•
5. æäº¤æ‹‰å–è¯·æ±‚

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - è¯¦è§LICENSEæ–‡ä»¶ã€‚

## ğŸ†˜ æ”¯æŒ

å¦‚æœ‰é—®é¢˜å’Œç–‘é—®ï¼š
- åœ¨GitHubä»“åº“ä¸­åˆ›å»ºé—®é¢˜
- æŸ¥çœ‹æ–‡æ¡£
- æŸ¥çœ‹æ•…éšœæ’é™¤æŒ‡å—

## ğŸ™ è‡´è°¢

- Tauriå›¢é˜Ÿæä¾›çš„ä¼˜ç§€è·¨å¹³å°æ¡†æ¶
- Spring Bootç¤¾åŒºæä¾›çš„å¼ºå¤§åç«¯ç”Ÿæ€ç³»ç»Ÿ
- è´¡çŒ®è€…å’Œæµ‹è¯•äººå‘˜

---

**ç²¤è¯­è¯„ä¹¦ - ç”¨æ‚¨çš„å£°éŸ³è®©æ‚¨çš„æ•…äº‹æ ©æ ©å¦‚ç”Ÿï¼**